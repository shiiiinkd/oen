# oen プロジェクト Git 命名ルール

本ドキュメントは、**oen（Oh!EN）プロジェクトにおける Git の命名ルール**をまとめたものです。

目的は以下の 3 点です。

- 自分が後から見返して一瞬で理解できる
- 日本の開発現場で通用する形式を踏襲する
- 学習目的（Express 理解）と MVP 開発を両立する

---

## 1. 基本方針（最重要）

- 命名は「意味が一目で分かる」ことを最優先する
- ルールは最小限にし、迷わないことを重視する
- 日本語ベース + Conventional Commits を「ゆるく」採用する

oen は個人開発だが、  
**現場に持ち込んでも違和感がないこと**を常に意識する。

---

## 2. ブランチ命名ルール

### 2.1 基本形式

- 形式：`<type>/<short-description>`
- `/` で区切る
- `<type>` は作業の性質
- `<short-description>` は何をするブランチか

---

### 2.2 type 一覧（oen 固定）

| type     | 意味                 | 使用例               |
| -------- | -------------------- | -------------------- |
| chore    | 環境構築・設定・雑務 | chore/setup          |
| feat     | 新機能追加           | feat/line-login      |
| fix      | バグ修正             | fix/session-redirect |
| refactor | 挙動を変えない整理   | refactor/api-routes  |
| docs     | ドキュメント         | docs/git-rules       |

---

### 2.3 環境構築ブランチ（確定ルール）

- 使用するブランチ名：`chore/setup`

対象となる作業例：

- GitHub 連携
- パッケージ導入
- 初期ディレクトリ構成
- 設定ファイル追加

これは**機能開発ではない**ため、`feat` は使わず `chore` を使用する。

---

### 2.4 short-description の書き方

- 英小文字を使う
- 単語はハイフン区切り
- 動詞・名詞どちらでもよい
- 長くしすぎない

良い例：

- feat/support-intent
- feat/line-login
- fix/callback-error

避けたい例：

- feat/new
- feat/test
- setup

---

## 3. コミットメッセージ命名ルール

### 3.1 基本形式（必須）

- 形式：`<type>: <要約>`
- type はブランチと同じ思想
- 要約は原則日本語
- 1 行で「何をしたか」が分かること

---

### 3.2 commit type 一覧（oen 固定）

| type     | 意味               |
| -------- | ------------------ |
| feat     | 機能追加           |
| fix      | バグ修正           |
| refactor | 挙動を変えない整理 |
| docs     | ドキュメント       |
| test     | テスト追加・修正   |
| chore    | 設定・依存・環境   |
| style    | フォーマットのみ   |

---

## 4. 日本語コミットを採用する理由

- 自分が最速で理解できる
- 後から読んだときに文脈を思い出しやすい
- 日本の開発現場でも一般的に使われている

※ README や外部公開向けファイルのみ、英語を使ってもよい。

---

## 5. コミット要約の書き方ルール

### 5.1 推奨スタイル

- 主語は省略する
- 「〜する」「〜できるようにする」で書く
- 抽象的な表現を避ける

良い例：

- feat: SupportIntent 作成 API を追加
- fix: LINE ログイン後のリダイレクト不具合を修正
- refactor: ルーティング定義を apiRoutes に集約
- chore: env 読み込み処理を整理

---

### 5.2 避けるべき例

- update
- fix
- wip
- 微修正

後から見て意味が分からないコミットは禁止する。

---

## 6. 初回コミットのルール（確定）

- 正解とするメッセージ：`chore: 初期コミット`

理由：

- 機能ではない
- 環境・土台作りである
- シンプルで現場感がある

---

## 7. コミット粒度の考え方

- 1 コミット = 1 目的
- ビルドが壊れた状態では切らない
- 「戻せる単位」でコミットする

AI 補完を使っていても、  
**最終的な責任はこのコミットに集約される。**

---

## 8. このルールの位置づけ

- oen プロジェクト全体で共有する前提ルール
- 迷ったらこのドキュメントに戻る
- MVP 完了後も基本は維持する
